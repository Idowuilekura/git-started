var
jQueryScriptOutputted=false,dir='/newdesign/js/template',boolHeader=[],boolQuestions=[],boolAnswers=[],pickHeader=[],pickChoice=[],pickAnswers=[],correctAnswers={},givenAnswers={},results=[],answer=[],blanksHeader=[],blanksChoice=[],dragHeader=[],dragOptions=[],multiOptions=[],orderOptions=[],layerOptions=[],tabsOptions=[],touch=false,htmlEscapes={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#x27;','/':'&#x2F;'},htmlEscaper=/[&<>"'\/]/g;if(navigator.userAgent.match(/iPad/g)||navigator.userAgent.match(/iPhone/g)||navigator.userAgent.match(/Tablet/g)||navigator.userAgent.match(/Android/g))
{touch=true;}
function initJQuery(){if(typeof(jQuery)=='undefined'){if(!jQueryScriptOutputted){jQueryScriptOutputted=true;document.write('<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>');document.write('<meta name="apple-mobile-web-app-capable" content="yes" />');document.write('<meta http-equiv="X-UA-Compatible" content="IE=7" />');}
setTimeout("initJQuery()",50);}else{$(function(){});}}
initJQuery();function RunMenu(iniFile,movieHeight)
{var div=$('div');div.attr('id','container');div.html('<div class="information"></div><div class="data"><ul></ul></div><div class="clear"></div>');loadIniData(iniFile);}
function loadIniData(iniFile)
{$.ajax({type:"GET",url:iniFile,success:function(data){var
list=[],title=[],content=[],url=[],images=[001,002,003,004,005,006,007,008,009,010],text=data.split('&item');$.each(text,function(index,value){var value=value.replace(index+'=',"");list.push(value);});list.shift();$.each(list,function(index,value){var value=value.split(/\xac/g);if(value[2].search(/&/ig))
{var url=value[2].split('&')[0];}else{var url=value[2].shift();}
$('.data').append('<li><a href="'+url+'">'+value[0]+'</a>&nbsp;|&nbsp;<a class="more" href="'+index+'" data-content="'+value[1].replace(/"/g,'')+'"><img src="'+dir+'/info-icon.jpg" /></a></li>');content.push(value[1]);});var gen=images[Math.floor(Math.random()*images.length)];$('.data').after('<img id="img" src="'+dir+'/people_image_00'+gen+'.jpg"/>');$('.clear').html('<div id="infoText"><p>To view a description please click the <img src="'+dir+'/info-icon.jpg" /> icon.</p><p>To study a unit, click on the title</p></div>');$('.information').html('<h1>Overview</h1>'+content[0]);$('a.more').click(function(e){e.preventDefault();$('a.more').css({'color':'#2E3192'});$('li').css({'background-image':'circles_up_rlspace.jpg'});$('.information').html('<h1>Overview</h1>'+$(this).data('content'));$(this).css({'color':'grey'});$(this).parent().css({'background-image':'circles_over_rlspace.jpg'});});},error:function(xhr){console.log(xhr);}});}
function popUpWindow(windowURL,windowName,windowWidth,windowHeight){window.name='parentWnd';newWindow=window.open(windowURL,windowName,'width='+windowWidth+',height='+windowHeight+',toolbar=0,location=0,directories=0, status=0,menuBar=0,scrollBars=1,resizable=0');newWindow.focus();}
function doInteractive(type,iniFile,movieHeight)
{var numRand=Math.floor(Math.random()*101);document.write('<div id="feedbackContainer_'+numRand+'"></div>');switch(type){case'fi01':document.write('<div class="container_'+numRand+'"><div class="boolean_'+numRand+'"><h5></h5><ul class="list-group"></ul></div></div>');loadIniQuestions(iniFile,function(booleanGet){var booleanData=booleanGet.split("\n&");boolHeader[numRand]=[];boolQuestions[numRand]=[];boolAnswers[numRand]=[];correctAnswers[numRand]=[];for(b=0;b<booleanData.length;b++)
{if(booleanData[b].match(/fiQuestion/g))
{boolHeader[numRand].push(booleanData[b].split(/=(.+)?/)[1]);}
if(booleanData[b].match(/fiAnswer/g))
{var boolQuestionId=booleanData[b].split(/=(.+)?/)[0].match(/[0-9]+/g)[0];boolQuestions[numRand][boolQuestionId]=[];boolQuestions[numRand][boolQuestionId].push(booleanData[b].split(/=(.+)?/)[1]);}
if(booleanData[b].match(/fiCorrect/g))
{var boolAnswerId=booleanData[b].match(/[0-9]+/g)[0];boolAnswers[numRand][numRand+""+boolAnswerId]=[];boolAnswers[numRand][numRand+""+boolAnswerId].push(true);}}
$('.boolean_'+numRand+' h5').text(boolHeader[numRand]);$('.boolean_'+numRand+' > ul').after('<h6><span class="glyphicon glyphicon-info-sign"></span> Please answer true or false to each of the statements above.</h6>');$.each(boolQuestions[numRand],function(index,value){if(typeof(value)!="undefined")
{$('.boolean_'+numRand+' > ul').append('<li class="booleanQuestions list-group-item"><div class="question" id="'+numRand+'_'+index+'"><div class="image hidden-xs"><span class="empty" id="img_'+numRand+index+'"></span> </div> <div class="text">'+decodeURIComponent(value)+'</div></div><div class="boolean"><ul><li class="true_'+numRand+'_'+index+'" onclick="setAnswer('+numRand+index+',true, '+numRand+');" >True</li><li class="false_'+numRand+'_'+index+'" onclick="setAnswer('+numRand+index+', false, '+numRand+');">False</li></ul><div class="image hidden-sm hidden-md hidden-lg"><span class="empty" id="img_'+numRand+index+'"></span> </div></div></li').html();}});});break;case'fi02':document.write('<div class="container_'+numRand+'"><div class="pick_'+numRand+'"><h5></h5><ul class="list-group" id="options_'+numRand+'"></ul><li class="btn btn-primary" id="submit_'+numRand+'">Submit</li></div></div>');loadIniQuestions(iniFile,function(pickGet){var pickData=pickGet.split("\n&");pickHeader[numRand]=[];pickChoice[numRand]=[];pickAnswers[numRand]=[];correctAnswers[numRand]=[];givenAnswers[numRand]=[];for(m=0;m<pickData.length;m++)
{if(pickData[m].match(/fiQuestion/g))
{pickHeader[numRand].push(pickData[m].split(/=(.+)?/)[1]);}
if(pickData[m].match(/fiAnswer/g))
{var pickQuestionId=pickData[m].match(/[0-9]+/g)[0];pickChoice[numRand][pickQuestionId]={};pickChoice[numRand][pickQuestionId]['Question']=pickData[m].split(/=(.+)?/);pickChoice[numRand][pickQuestionId]['Answer']=false;}
if(pickData[m].match(/fiCorrect/g))
{var pickAnswerId=parseInt(pickData[m].match(/[0-9]+/g)[0]);pickChoice[numRand][pickAnswerId]['Answer']=true;}}
pickChoice[numRand]=pickChoice[numRand].filter(Boolean);Shuffle(pickChoice[numRand]);$('.container_'+numRand+' h5').text(pickHeader[numRand]);$('.container_'+numRand+' > table').after('<h6>Please answer true or false to each of the statements above.</h6>');$.each(pickChoice[numRand],function(index,value){$('#options_'+numRand).append('<li class="list-group-item" data-picker="'+numRand+'_'+index+'" data-answer="false">'+value['Question'][1]+'</li>');correctAnswers[numRand][index]=pickChoice[numRand][index]['Answer'];givenAnswers[numRand][index]=false;});$('li[data-picker]').click(function(e){if($(this).attr('data-answer')=='false')
{$(this).attr('data-answer','true').css({"background-color":"#E3E7F0"});givenAnswers[numRand][$(this).data('picker').split('_')[1]]=true;}else{$(this).attr('data-answer','false').css({"background-color":"#fff"});givenAnswers[numRand][$(this).data('picker').split('_')[1]]=false;}
e.stopImmediatePropagation();});$('#submit_'+numRand).click(function(){results[numRand]=0;$('.ui-dialog').hide();$.each(pickChoice[numRand],function(index,value){if(givenAnswers[numRand][index]==correctAnswers[numRand][index])
{results[numRand]=(results[numRand]+1);}});if(results[numRand]==Object.keys(correctAnswers[numRand]).length)
{feedbackContent='<div class="dialog-text"><dl><dt><span class="glyphicon glyphicon-ok-circle"></span></dt> <dd><strong>Well done</strong>, the answers you have selected are all correct. Click the close button to continue.</dd></dl></div>';}else{feedbackContent='<div class="dialog-text"><dl><dt><span class="glyphicon glyphicon-remove-circle"></span></dt> <dd><strong>Sorry</strong>, the answers you have selected are not correct. Click the close button to try again.</dd></dl></div>';}
$("#feedbackContainer_"+numRand).html(feedbackContent);$("#feedbackContainer_"+numRand).dialog({modal:true,closeOnEscape:true,minWidth:400,minHeight:142,title:"Results",buttons:{"Ok":{click:function(){$(this).dialog('close');},text:'OK',class:'btn btn-primary'}}});$('a.ui-dialog-titlebar-close','.ui-dialog-titlebar').remove();})});break;case'fi03':document.write('<div class="container_'+numRand+'"><div class="missingBlanks_'+numRand+'"><h5></h5><span class="text_'+numRand+'"></span></div></div>');loadIniQuestions(iniFile,function(blanksGet){var blanksData=blanksGet.split("\n&");blanksHeader[numRand]=[];blanksChoice[numRand]=[];correctAnswers[numRand]=[];for(mb=0;mb<blanksData.length;mb++)
{if(blanksData[mb].match(/fiDisplayInstruction/g))
{blanksHeader[numRand].push(blanksData[mb].split(/=(.+)?/)[1]);}
if(blanksData[mb].match(/fiDisplayQuestion/g))
{var blankQuestionId=blanksData[mb].match(/[0-9]+/g)[0];blanksChoice[numRand]={};blanksChoice[numRand]['Question']=blanksData[mb];blanksChoice[numRand]['Answers']={};}
if(blanksData[mb].match(/fiAnswer/g))
{var blankAnswerId=blanksData[mb].split(/=(.+)?/)[0].match(/[0-9]+/g)[0];blanksChoice[numRand]['Answers'][blankAnswerId]=blanksData[mb].split(/=(.+)?/)[1];}}
$('.container_'+numRand+' h5').text(blanksHeader[numRand]);var text=blanksChoice[numRand]['Question'].split('fiDisplayQuestion=');$('.text_'+numRand).after('<h6><span class="glyphicon glyphicon-info-sign"></span> You have answered <span id="correct_'+numRand+'">0</span> answers out of <span id="total_'+numRand+'">'+Object.keys(blanksChoice[numRand]['Answers']).length+'</span> correctly.</h6>');$('.text_'+numRand).append('<p>'+text+'</p>');var
text1=$('.text_'+numRand).html(),text2=text1.replace(',','');$('.text_'+numRand).html(text2);var link=$('.text_'+numRand).find('a');$.each(link,function(index,value){$(this).replaceWith('<span class="choice_'+numRand+'" id="'+numRand+'_'+(index+1)+'" data-correct="false" style="position:relative;">?????</span>');});var
id=0,mouseX,mouseY,correct=0;if(touch)
{$('.text_'+numRand).append('<div class="option_'+numRand+'" style="background-color:white;z-index:99999;"><h6>Choose the word(s) that fit where you have selected.</h6><p><select multiple class="form-control" id="select_'+numRand+'"></select><p><button id="button_'+numRand+'">Confirm</button></div>').html();}else{$('.text_'+numRand).append('<div class="option_'+numRand+'" style="background-color:white;z-index:99999;"><h6>Choose the word(s) that fit where you have selected.</h6><p><select multiple class="form-control" id="select_'+numRand+'"></select></p></div>').html();}
$.each(blanksChoice[numRand]['Answers'],function(index,value){$('#select_'+numRand).append('<option class="selectOption_'+numRand+'" id="'+numRand+'_'+(index+1)+'" value="'+value+'" >'+decodeURIComponent(value)+'</option>').html();});$('.selectOption_'+numRand).domShuffle();$(document).mousemove(function(e){mouseX=e.pageX;mouseY=e.pageY;});if(touch)
{$('#button_'+numRand).click(function(){$('#'+id).text($('#select_'+numRand).val());$('.option_'+numRand).hide();if(escape($('#'+id).text())==blanksChoice[numRand]['Answers'][id.split('_')[1]])
{if($('#'+id).attr('data-correct')=='false')
{$('#'+id).attr('data-correct','true');correct=(correct+1);$('#correct_'+numRand).text(correct);}}else{if($('#'+id).attr('data-correct')=='true')
{$('#'+id).attr('data-correct','false');correct=(correct-1);$('#correct_'+numRand).text(correct);}else{$('#'+id).attr('data-correct','false');}}})}else{$('.selectOption_'+numRand).click(function(){$('#'+id).text($(this).val());$('.option_'+numRand).hide();if(escape($(this).text())==blanksChoice[numRand]['Answers'][id.split('_')[1]])
{if($('#'+id).attr('data-correct')=='false')
{$('#'+id).attr('data-correct','true');correct=(correct+1);$('#correct_'+numRand).text(correct);}}else{if($('#'+id).attr('data-correct')=='true')
{$('#'+id).attr('data-correct','false');correct=(correct-1);$('#correct_'+numRand).text(correct);}else{$('#'+id).attr('data-correct','false');}}})}
$(document).mouseup(function(e)
{var container=$(".option_"+numRand);if(container.has(e.target).length===0)
{container.hide();}});$('.choice_'+numRand).click(function(){$('selectOption_'+numRand).removeAttr('selected');if(touch)
{$('.option_'+numRand).css({"top":(mouseY+10),"left":(mouseX-50),"height":135});}else{$('.option_'+numRand).css({'top':mouseY+10,'left':mouseX});}
id=$(this).attr('id');if($(this).attr('id')==id)
{$('.option_'+numRand).show();}else{$('.option_'+numRand).toggle();}})});break;case'fi04':if(touch){$('#mainWindow').css({'margin-top':'50px'});$('#mainWindow').addClass('scrollMe');if(!$('script[src="/ardenDesign/js/jquery.ui.touch.js"]').length)
{document.write('<script src="/ardenDesign/js/jquery.ui.touch-punch.min.js"></script>');}
if(!$('script[id="oneFingerScrollable"]').length)
{document.write('<script id="oneFingerScrollable">$(".scrollMe").oneFingerScroll();</script>');}}
if(!touch){document.write('<div class="container_'+numRand+'"><h5></h5><div class="row dragContainer_'+numRand+'"><ul class="col-sm-6 col-md-6 col-lg-6" id="statements_'+numRand+'"></ul><ul class="col-sm-6 col-md-6 col-lg-6" id="matches_'+numRand+'"></ul></div><h6><span class="glyphicon glyphicon-info-sign"></span> Drag an item on the right to its matching statement on the left.</h6></div>');}else{document.write('<div class="container_'+numRand+'"><h5></h5><div class="'+numRand+'"><ul id="matches_'+numRand+'"></ul></div><h6><span class="glyphicon glyphicon-info-sign"></span> Click on an item to match it with a statement. </h6><div id="check_answers" class="btn btn-primary">Submit</div></div>');}
loadIniQuestions(iniFile,function(dragGet){var dragData=dragGet.split("\n&");dragHeader[numRand]={};dragOptions[numRand]={};dragOptions[numRand]['Statements']={};dragOptions[numRand]['Matches']={};for(d=0;d<dragData.length;d++)
{if(dragData[d].match(/fiQuestion/g))
{dragOptions[numRand]['Header']=dragData[d].split(/=(.+)?/)[1];}
if(dragData[d].match(/fiStatement/g))
{dragOptions[numRand]['Statements'][dragData[d].split(/=(.+)?/)[0].match(/[0-9]+/g)[0]]=dragData[d].split(/=(.+)?/)[1];}
if(dragData[d].match(/fiMatch/g))
{dragOptions[numRand]['Matches'][dragData[d].split(/=(.+)?/)[0].match(/[0-9]+/g)[0]]=dragData[d].split(/=(.+)?/)[1];}}
$('.container_'+numRand+' h5').text(dragOptions[numRand]['Header']);if(!touch){$.each(dragOptions[numRand]['Statements'],function(index,value){$('#statements_'+numRand).append('<li class="panel panel-default droppable_'+numRand+'" data-statement="'+numRand+'_'+index+'" code="'+numRand+'_'+index+'" id="'+numRand+'_'+index+'"><div class="panel-heading"><span class="empty" id="img_'+numRand+'_'+index+'"></span> '+value+'</div><div class="panel-body"></div></li>').html();});$.each(dragOptions[numRand]['Matches'],function(index,value){$('#matches_'+numRand).append('<li class="draggable_'+numRand+'" data-match="'+numRand+'_'+index+'"  code="'+numRand+'_'+index+'" id="'+numRand+'_'+index+'"  data-selected="false"><p>'+value+'</p></li>').html();});$('#statements_'+numRand+' li').domShuffle();$('#matches_'+numRand+' li').domShuffle();$('.draggable_'+numRand).draggable({containment:$('.container_'+numRand),revert:true,scroll:false});$(".droppable_"+numRand).droppable({drop:function(event,ui){var
box=$(this).attr('id'),item=$(ui.draggable).attr('id'),boxcode=$(this).attr('code'),itemcode=$(ui.draggable).attr('code'),imageId=$(this).attr('id');if(boxcode!==itemcode)
{if($('#img_'+imageId).attr('class')=='empty')
{$('#img_'+imageId).attr('class','glyphicon glyphicon-remove-circle');}}
else if(box==item)
{$('#img_'+imageId).attr('class','glyphicon glyphicon-ok-circle');$(ui.draggable).css({"z-index":-999999}).attr('data-selected','true');ui.draggable.css({'width':'auto','height':'auto'});$(this).find($('.panel-body')).show();ui.draggable.clone(true).css({'position':'inherit'}).appendTo($(this).find($('.panel-body')));ui.draggable.remove();}
else
{$('#img_'+imageId).attr('class','glyphicon glyphicon-remove-circle');$(ui.draggable).css({"z-index":-999999});}}});$('.draggable_'+numRand).click(function(){if($('.draggable_'+numRand).attr('data-selected')=='false')
{$('.draggable_'+numRand).css({"z-index":999})}
$(this).css({"z-index":999999})});}else{$.each(dragOptions[numRand]['Matches'],function(index,value){$('#matches_'+numRand).append('<li class="match_'+numRand+'" id="'+numRand+'_'+index+'"><div class="image"><span class="empty" id="img_'+numRand+'_'+index+'"></span></div><div class="text">'+value+'</div><div class="statements_'+index+'" id="statements_'+numRand+'"></div></li>').html();$('li#'+numRand+'_'+index+' .text ').click(function(){$.each(dragOptions[numRand]['Statements'],function(index2,value){$('.statements_'+index).append('<label class="radio-inline"><input type="radio" name="Statements_'+numRand+'_'+index+'" id="'+numRand+'_'+index2+'" value="'+value+'" > '+value+'</label>').html();$('.statements_'+index).css('display','block');});$('#check_answers').click(function(){var answer=$('input:radio[name=Statements_'+numRand+"_"+index+']:checked').attr('id');if(answer==(numRand+'_'+index)){$('#img_'+(numRand+'_'+index)).attr('class','glyphicon glyphicon-ok-circle');}else{$('#img_'+(numRand+'_'+index)).attr('class','glyphicon glyphicon-remove-circle');}});});});$('#matches_'+numRand+' li').domShuffle();}
if($("#statements_"+numRand).length==0){setTimeout(function(){window.location.reload();},1);}});break;case'fi05':document.write('<div class="container_'+numRand+'"><div class="multiple_'+numRand+'"><h5></h5><ul class="list-group" id="choices_'+numRand+'"></ul><h6><span class="glyphicon glyphicon-info-sign"></span> Please choose which of the answers above is correct.</h4></div></div>');loadIniQuestions(iniFile,function(multiGet){var multiData=multiGet.split("\n&");multiOptions[numRand]={};multiOptions[numRand]['Header']={};multiOptions[numRand]['Choices']={};multiOptions[numRand]['Answers']={};for(m=0;m<multiData.length;m++)
{if(multiData[m].match(/fiQuestion/g))
{multiOptions[numRand]['Header']=multiData[m].split(/=(.+)?/)[1];}
if(multiData[m].match(/fiAnswer/g))
{multiOptions[numRand]['Choices'][multiData[m].split(/=(.+)?/)[0].match(/[0-9]+/g)]=multiData[m].split(/=(.+)?/)[1];multiOptions[numRand]['Answers'][multiData[m].match(/[0-9]+/g)]="0";}
if(multiData[m].match(/fiCorrectAnswer/g))
{multiOptions[numRand]['Answers'][multiData[m].match(/[0-9]+/g)]=multiData[m].split(/=(.+)?/)[1];}}
$('.container_'+numRand+' h5').text(multiOptions[numRand]['Header']);$.each(multiOptions[numRand]['Choices'],function(index,value){$('#choices_'+numRand).append('<li class="list-group-item" id="'+numRand+'_'+index+'"><div class="image"><span class="empty"></span></div> <div class="text">'+value+'</div></li>').html();});$('#choices_'+numRand+' li').domShuffle();$('#choices_'+numRand+' li').click(function(){var selectId=$(this).attr('id').split('_')[1];if(parseInt($(this).attr('id').split('_')[1])===parseInt(multiOptions[numRand]['Answers'][selectId]))
{$(this).find('span').attr('class','glyphicon glyphicon-ok-circle');}else{$(this).find('span').attr('class','glyphicon glyphicon-remove-circle');}});});break;case'fi06':if(touch){$('#mainWindow').css({'margin-top':'50px'});$('#mainWindow').addClass('scrollMe');if(!$('script[src="/ardenDesign/js/jquery.ui.touch.js"]').length)
{document.write('<script src="/ardenDesign/js/jquery.ui.touch-punch.min.js"></script>');}
if(!$('script[id="oneFingerScrollable"]').length)
{document.write('<script id="oneFingerScrollable">$(".scrollMe").oneFingerScroll();</script>');}}
if(touch){document.write('<div class="container_'+numRand+'"><div class="order_'+numRand+'"><h5></h5><ul class="" id="ordered_'+numRand+'"></ul>\
            	<div id="checkanswers" class="btn btn-primary">Submit</div>\
            	<h6><span class="glyphicon glyphicon-info-sign"></span> Put the items in the right order.</h6></div></div>');}else{document.write('<div class="container_'+numRand+'"><div class="order_'+numRand+'"><h5></h5><div class="row"><ul class="col-sm-6 col-md-6 col-lg-6" id="ordered_'+numRand+'"></ul>\
            	<ul class="col-sm-6 col-md-6 col-lg-6" id="orderedOptions_'+numRand+'"></ul></div>\
            	<h6><span class="glyphicon glyphicon-info-sign"></span> Drag an item on the left to the right position on the right.</h6></div></div>');}
loadIniQuestions(iniFile,function(orderGet){var orderData=orderGet.split("\n&");orderOptions[numRand]={};orderOptions[numRand]['Question']={};orderOptions[numRand]['Answers']={};for(o=0;o<orderData.length;o++)
{if(orderData[o].match(/fiQuestion/g))
{orderOptions[numRand]['Question']=orderData[o].split(/=(.+)?/)[1];}
if(orderData[o].match(/fiAnswer/g))
{orderOptions[numRand]['Answers'][orderData[o].split(/=(.+)?/)[0].match(/[0-9]+/g)]=orderData[o].split(/=(.+)?/)[1];}}
$('.container_'+numRand+' h5').text(orderOptions[numRand]['Question']);if(touch){$.each(orderOptions[numRand]['Answers'],function(index,value){$('#ordered_'+numRand).append('<li class="orderedChoice_'+numRand+'" code="'+numRand+'_'+index+'" id="'+numRand+'_'+index+'" data-selected="false"><div class="text">'+value+'</div><div class="image"><span class="empty"></span></div></li>').html();});}else{$.each(orderOptions[numRand]['Answers'],function(index,value){$('#ordered_'+numRand).append('<li class="orderedChoice_'+numRand+'" code="'+numRand+'_'+index+'" id="'+numRand+'_'+index+'" data-selected="false">'+value+'</li>').html();});$.each(orderOptions[numRand]['Answers'],function(index,value){$('#orderedOptions_'+numRand).append('<li class="orderedAnswer_'+numRand+'" code="'+numRand+'_'+index+'" id="'+numRand+'_'+index+'"><h6>'+index+'</h6><span id="img_'+numRand+'_'+index+'" class="empty"></span></li`>').html();});}
$('#ordered_'+numRand+' li').domShuffle();if(!touch){$(".orderedChoice_"+numRand).draggable({containment:$('.container_'+numRand),revert:true,scroll:false});$('.draggable_'+numRand).click(function(){if($('.draggable_'+numRand).attr('data-selected')=="false")
{$('.draggable_'+numRand).css({"z-index":9999})}
$(this).css({"z-index":999999})});$(".orderedAnswer_"+numRand).droppable({drop:function(ev,ui){var
box=$(this).attr('id'),item=$(ui.draggable).attr('id'),boxcode=$(this).attr('code'),itemcode=$(ui.draggable).attr('code'),imageId=$(this).attr('id');if(boxcode!==itemcode)
{if($('#img_'+imageId).attr('class')=='empty')
{$('#img_'+imageId).attr('class','glyphicon glyphicon-remove-circle');}
$(this).addClass("incorrect-answer");}
else if(box==item)
{$(ui.draggable).css({"z-index":-999999}).attr('data-selected','true');$('.orderedAnswer_'+numRand+'[id="'+imageId+'"]').text($(ui.draggable).text()).prepend('<h6>'+imageId.split('_')[1]+'</h6>').append('<span class="glyphicon glyphicon-ok-circle"></span> ');$(this).addClass("correct-answer");}
else
{$('#img_'+imageId).attr('class','glyphicon glyphicon-remove-circle');$(ui.draggable).css({"z-index":-999999});$(this).addClass("incorrect-answer");}}});}else{$('.interaction-orderlist').addClass('touch');$('.interaction-orderlist').find('.image').removeClass('image').addClass('image-touch');$('.interaction-orderlist').find('.text').removeClass('text').addClass('text-touch');$('.interaction-orderlist ul').css('padding-left','0px');$('#ordered_'+numRand).sortable({create:function(event,ui){$.map($(this).find('li'),function(el){var fullid=$(el).attr('id');var elementid=fullid.substr(fullid.indexOf("_")+1);$("#checkanswers").click(function(){if(elementid==($(el).index()+1)){$('li#'+fullid).find('span').attr('class','glyphicon glyphicon-ok-circle');}else{$('li#'+fullid).find('span').attr('class','glyphicon glyphicon-remove-circle');}});});},update:function(event,ui){$.map($(this).find('li'),function(el){var fullid=$(el).attr('id');var elementid=fullid.substr(fullid.indexOf("_")+1);$("#checkanswers").click(function(){if(elementid==($(el).index()+1)){$('li#'+fullid).find('span').attr('class','glyphicon glyphicon-ok-circle');}else{$('li#'+fullid).find('span').attr('class','glyphicon glyphicon-remove-circle');}});});}});$('#ordered_'+numRand).disableSelection();}
if($("#ordered_"+numRand).length==0){setTimeout(function(){window.location.reload();},1);}});break;case'ci11':document.write('<div class="container_'+numRand+'"><div id="accordion" class="panel-group layers_'+numRand+'" role="tablist" aria-multiselectable="true"></div></div>');loadIniQuestions(iniFile,function(layerGet){var layerData=layerGet.split("\n&");layerOptions[numRand]={};layerOptions[numRand]['Headings']={};layerOptions[numRand]['Text']={};for(l=0;l<layerData.length;l++)
{if(layerData[l].match(/ciTabHeading/g))
{layerOptions[numRand]['Headings'][layerData[l].split(/=(.+)?/)[0].match(/[0-9]+/g)]=layerData[l].split(/=(.+)?/)[1];}
if(layerData[l].match(/ciTabText/g))
{layerOptions[numRand]['Text'][layerData[l].split(/=(.+)?/)[0].match(/[0-9]+/g)]=layerData[l].replace(/ciTabText[0-9]+=/g,"");}}
$.each(layerOptions[numRand]['Headings'],function(index,value){$('.layers_'+numRand).append('<div class="panel panel-default"><div class="panel-heading" role="tab" id="heading_'+numRand+'_'+index+'"><h4 class="panel-title">'+' <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse_'+numRand+'_'+index+'" aria-expanded="false" aria-controls="collapse_'+numRand+'_'+index+'" class="collapsed"> '+value+'<span class="glyphicon glyphicon-chevron-down pull-right"></span></a></h4></div><div id="collapse_'+numRand+'_'+index+'" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading_'+numRand+'_'+index+'" aria-expanded="false"><div class="panel-body">'+layerOptions[numRand]['Text'][index]+'</div></div></div>');});});break;case'ci12':document.write('<div class="container_'+numRand+'"><div class="row tabbable tabs-left outer_'+numRand+'"><ul class="col-md-3 col-lg-3 nav nav-tabs tabsNav_'+numRand+'" role="tablist"></ul><div class="col-md-9 col-lg-9 tab-content tabs_'+numRand+'"></div></div></div>');loadIniQuestions(iniFile,function(tabGet){var tabData=tabGet.split("\n&");tabsOptions[numRand]={};tabsOptions[numRand]['Headings']={};tabsOptions[numRand]['Text']={};for(t=0;t<tabData.length;t++)
{if(tabData[t].match(/ciTabHeading/g))
{tabsOptions[numRand]['Headings'][tabData[t].split(/=(.+)?/)[0].match(/[0-9]+/g)]=tabData[t].split(/=(.+)?/)[1];}
if(tabData[t].match(/ciTabText/g))
{tabsOptions[numRand]['Text'][tabData[t].split(/=(.+)?/)[0].match(/[0-9]+/g)]=tabData[t].split(/[0-9]+=/i)[1];}}
$.each(tabsOptions[numRand]['Headings'],function(index,value){$('.tabsNav_'+numRand).append('<li class="'+(index==1?'active':'')+'" data-tab="'+numRand+'" role="presentation"><a data-target="#'+numRand+'_'+index+'" role="tab" data-toggle="tab">'+value+'<span style="float:right;" class="glyphicon glyphicon-chevron-right"></span></a></li>').html();$('.tabs_'+numRand).append('<div class="tab-pane tab-data '+(index==1?'active':'')+'" id="'+numRand+'_'+index+'" role="tabpanel">'+tabsOptions[numRand]['Text'][index]+'</div>').html();});});break;default:document.write('<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="616" height="'+movieHeight+'">\n');document.write('<param name="movie" value="../../templates/'+type+'.swf?iniFileName='+iniFile+'" />\n');document.write('<param name="quality" value="high" />\n');document.write('<embed align="center" src="../../templates/'+type+'.swf?iniFileName='+iniFile+'" quality="high" pluginspage="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash" width="616" height="'+movieHeight+'"></embed>\n');document.write('</object>\n');break;}}
function loadIniQuestions(iniFile,callback)
{return $.get(iniFile,{},callback);}
function doCustomInteractive(type,movieHeight)
{if(!touch)
{document.write('<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="616" height="'+movieHeight+'">\n');document.write('<param name="movie" value="'+type+'.swf" />\n');document.write('<param name="quality" value="high" />\n');document.write('<embed align="center" src="'+type+'.swf" quality="high" pluginspage="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash" width="616" height="'+movieHeight+'"></embed>\n');document.write('</object>\n');}else{document.write('<h1>Sorry, but this interactive is not currently available on your device.</h1>');}}
function setAnswer(answerId,result,rand)
{var answer=false;if(typeof(boolAnswers[rand][answerId])!='undefined')
{answer=true;}
$('.true_'+rand+'_'+answerId).css({"color":"#222222","background":"#ffffff"});$('.false_'+rand+'_'+answerId).css({"color":"#222222","background":"#ffffff"});$('.'+result+'_'+rand+'_'+answerId).css({'color':'#ffffff',"background":"#6b6b6b"});if(answer==result)
{$('span#img'+'_'+answerId).attr('class','glyphicon glyphicon-ok-circle');}else{$('span#img'+'_'+answerId).attr('class','glyphicon glyphicon-remove-circle');}}
function Shuffle(o){for(var j,x,i=o.length;i;j=parseInt(Math.random()*i),x=o[--i],o[i]=o[j],o[j]=x);return o;}
function escape(string){return(''+string).replace(htmlEscaper,function(match){return htmlEscapes[match];});};